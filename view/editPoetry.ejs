<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../images/favi.jpg" type="image/x-icon">
    <title>Editar Poesia</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css"
    rel="stylesheet"integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" 
    crossorigin="anonymous">
    <link rel="stylesheet" href="/style/editPoetry.css">
</head>
<body class="bg-dark">
    <div class="edit container mt-0 p-1 text-center rounded text-white">
        <div class="logo">
            <img src="/images/logo.jpg">
            <h1>Por fios de poesia </h1>
        </div>
        <form action="/admin/editPoetry/<%=body.id%>" method="POST" class="d-flex flex-column p-2 ">
            <input class="mb-3 p-2 rounded" name="title" value="<%=body.title%>" placeholder="Titulo">
            <textarea class="mb-3 p-2 rounded" name="text" value="<%=body.text%>" placeholder="Texto" rows="5"><%=body.text%></textarea>
            <input class="mb-3 p-2 rounded" name="author" value="<%=body.author%>" placeholder="Autor">
            <input class="mb-3 p-2 rounded" name="url" value="<%=body.url%>" placeholder="Url">
            <p>Separe as palavras-chave com uma v√≠rgula(,)</p>
            <span id='remaining'></span>
            <textarea class="mb-1 p-2 mt-0 rounded" rows="2" name="tags"id="tags" value="<%=body.tags%>" placeholder="Tags"><%=body.tags%></textarea>
            <button Id="edit" class="btn mt-3 p-2 bg-purple text-white rounded">Editar</button>
        </form>
    </div>
</body>
<footer>
    <hr>
    <p><a href="https://www.linkedin.com/in/marcia-b-oliveira/"class="text-decoration-none text-muted " target="_blank"><strong>Copyright&copy 2021; Created and powered by Marcia Bimaggi</strong></a></p> 
</footer>
<script>
     const tags= document.querySelector('#tags')
     tags.addEventListener('input',charactersCount,false)
     const MAXLENGTH = 200
     const edit = document.querySelector('#edit')
     const remaining = document.querySelector("#remaining")
    
    function charactersCount(){
       
        document.querySelector("#remaining").innerHTML=("Caracteres restante: " +(MAXLENGTH - this.value.length))

        if(tags.value.length > MAXLENGTH){
            edit.disabled = true
            remaining.style.color = "red"
           
            return false;
        } 
        edit.disabled = false
       remaining.style.color = "white"
};
</script>
</html>